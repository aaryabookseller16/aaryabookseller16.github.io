/* ===== 2) BASE / RESET-ISH ===== */
* { box-sizing: border-box; }
html, body { height: 100%; }
html { scroll-behavior: smooth; }

body{
  margin: 0;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  color: var(--text);
  background:
    radial-gradient(1200px 800px at 10% -10%, rgba(255,255,255,.6), transparent 45%),
    radial-gradient(1200px 800px at 110% -10%, rgba(255,255,255,.4), transparent 45%),
    linear-gradient(180deg, color-mix(in oklab, var(--bg-0) 92%, #fff), var(--bg-0));
  min-height: 100%;
}
a { color: var(--accent); text-decoration: none; }
a:hover { text-decoration: underline; }
.container { width: min(1100px, 92vw); margin: 0 auto; padding: 0 6px; }
h1, h2, h3, .brand { font-family: "Merriweather", Georgia, serif; }

/* ===== 3) HEADER ===== */
.site-header{
  position: sticky; top: 0; z-index: 20;
  border-bottom: 1px solid var(--ring);
  backdrop-filter: blur(10px);
  background: color-mix(in oklab, var(--bg-0) 70%, transparent);
}
.site-header .container{
  display: grid; grid-template-columns: 1fr auto auto auto;
  gap: 12px; align-items: center;
  padding-block: 14px;
}
.brand { font-weight: 900; font-size: 1.35rem; letter-spacing: -.02em; }
.brand span { color: var(--accent); }
.site-nav a { color: var(--muted); margin-inline: .75rem; }
.site-nav a[aria-current="page"] { color: var(--text); }
.theme-toggle{
  display: inline-flex; align-items: center; justify-content: center;
  width: 40px; height: 40px;
  border-radius: 999px; border: 1px solid var(--ring);
  background: var(--bg-2); box-shadow: var(--shadow-1); cursor: pointer;
}
.theme-toggle svg { width: 20px; height: 20px; }
.theme-toggle .icon-sun  { display: none; }
[data-theme="light"] .theme-toggle .icon-sun  { display: block; }
[data-theme="light"] .theme-toggle .icon-moon { display: none; }
[data-theme="dark"]  .theme-toggle .icon-moon { display: block; }

.accent-picker { position: relative; }
.accent-menu{
  position: absolute; right: 0; top: calc(100% + 8px);
  display: none; padding: 10px;
  background: var(--bg-1); border: 1px solid var(--ring);
  border-radius: 12px; box-shadow: var(--shadow-2);
}
.accent-picker[aria-expanded="true"] .accent-menu{ display: flex; gap: 8px; }
.accent-swatch{
  width: 26px; height: 26px;
  border-radius: 999px; border: 1px solid var(--ring);
  cursor: pointer;
}

/* ===== 4) SECTIONS & DIVIDERS ===== */
.section { padding: 16px 0 22px; }
.section-title{
  display: inline-flex; align-items: center; gap: 12px;
  font-weight: 800; font-size: 1.6rem;
}
.section-title::after{
  content: ""; flex: 1; height: 3px;
  background: var(--accent); border-radius: 2px;
}
.divider { margin: 12px 0 0; height: 1px; background: var(--ring); }

/* ===== 5) HERO ===== */
.hero{ position: relative; padding: 56px 0 12px; overflow: clip; }
.hero::before{
  content: "";
  position: absolute; inset: -10% 35% auto -10%; height: 70%;
  background: radial-gradient(700px 380px at 20% 40%,
              color-mix(in oklab, var(--accent) 16%, transparent) 0%,
              transparent 60%);
  filter: blur(20px) saturate(110%); pointer-events: none;
}
[data-theme="dark"] .hero::before{
  background: radial-gradient(700px 380px at 20% 40%,
              color-mix(in oklab, var(--accent) 22%, transparent) 0%,
              transparent 62%);
}
.hero h1{ margin: 0 0 .4rem; font-weight: 800; letter-spacing: -.015em; line-height: 1.15; }
.hero p{ margin: 0; color: var(--muted); max-width: 68ch; }

@keyframes fadeIn { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: none; } }
@keyframes slideUp { from { opacity: 0; transform: translateY(14px); } to { opacity: 1; transform: none; } }
.reveal { opacity: 0; transform: translateY(10px); }
.reveal.is-revealed { animation: fadeIn .5s ease-out forwards; }
.hero .hero-animate { opacity: 0; transform: translateY(14px); animation: slideUp .6s ease-out .05s forwards; }
.card.reveal.is-revealed { animation: fadeIn .45s ease-out forwards; }

/* ===== 6) BUTTONS ===== */
.cta-row, .actions { display: flex; gap: 12px; flex-wrap: wrap; margin-top: 18px; }
.btn, .button{
  display: inline-flex; align-items: center; justify-content: center;
  padding: .65rem 1.1rem; border-radius: 14px; font-weight: 600;
  color: var(--accent-contrast); border: 1px solid transparent;
  background: linear-gradient(180deg,
              color-mix(in oklab, var(--accent) 96%, #fff) 0%,
              var(--accent) 100%);
  box-shadow: 0 8px 20px rgba(0,0,0,.10),
              0 0 0 1px color-mix(in oklab, var(--accent) 35%, transparent) inset;
  transition: background .15s, transform .15s, box-shadow .15s;
  text-decoration: none;
}
.btn--solid {
  background: var(--accent, #4b72ff);
  color: var(--accent-contrast, #fff);
  border-color: color-mix(in oklab, var(--accent) 55%, transparent);
  box-shadow: 0 10px 28px color-mix(in oklab, var(--accent) 24%, transparent);
}
.btn--solid:hover { filter: brightness(.92); transform: translateY(-1px); }
.btn:hover, .button:hover{ transform: translateY(-2px); box-shadow: var(--shadow-2); text-decoration: none; }
.btn:active, .button:active{ transform: translateY(0); box-shadow: var(--shadow-1); }
.btn--ghost, .button--ghost{
  background: color-mix(in oklab, var(--accent) 6%, transparent);
  color: var(--accent);
  border-color: color-mix(in oklab, var(--accent) 55%, var(--ring));
}
/* Compact ghost button (for tight layouts) */
.btn--ghost.btn--sm{ padding:.45rem .75rem; border-radius:10px; font-size:.95rem; }

/* ===== 7) MUSIC ===== */
.music-card{
  display: grid; grid-template-columns: auto 1fr; gap: 12px; align-items: center;
  margin-top: 20px; padding: 12px 14px;
  background: var(--bg-1); border: 1px solid var(--ring);
  border-radius: var(--radius); box-shadow: var(--shadow-1);
}
.play-btn{
  width: 42px; height: 42px; border-radius: 999px; border: 0; cursor: pointer;
  background: var(--accent); color: var(--accent-contrast); font-weight: 700; box-shadow: var(--shadow-1);
}
.track-info { font-size: .98rem; }
.track-info .label { font-weight: 700; }
.track-info .song  { color: var(--accent); margin-left: .4rem; }
.music-pill{
  display: flex; align-items: center; gap: 10px;
  border: 1px solid var(--ring); background: var(--bg-1);
  border-radius: 999px; padding: 6px 10px; box-shadow: var(--shadow-1);
}
.music-pill .eq{ display: flex; gap: 3px; height: 14px; align-items: flex-end; }
.music-pill .eq-bar{
  width: 2px; height: 12px; background: var(--accent);
  opacity: .6; transform-origin: bottom center;
}
.music-playing .eq-bar{ opacity: 1; animation: beat 1s ease-in-out infinite; }
.music-playing .eq-bar:nth-child(2){ animation-delay: .08s; }
.music-playing .eq-bar:nth-child(3){ animation-delay: .16s; }
.music-playing .eq-bar:nth-child(4){ animation-delay: .24s; }
.music-playing .eq-bar:nth-child(5){ animation-delay: .32s; }
@keyframes beat { 0%,100% { transform: scaleY(.3) } 50% { transform: scaleY(1) } }

/* ===== 8) GRIDS / CARDS / TABS / TIMELINE ===== */
.grid-2{ display: grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap: 24px; }
.grid-3{ display: grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap: 24px; }
.grid-4{ display: grid; grid-template-columns: repeat(4, minmax(0,1fr)); gap: 24px; }
@media (max-width: 980px){ .grid-3, .grid-4{ grid-template-columns: repeat(2, minmax(0,1fr)); } }
@media (max-width: 720px){ .grid-2, .grid-3, .grid-4{ grid-template-columns: 1fr; } }
.row { display: flex; gap: 24px; }
.col { display: flex; flex-direction: column; gap: 16px; }

.card{
  position: relative;
  background: var(--bg-1); border: 1px solid var(--ring);
  border-radius: var(--radius); padding: 16px; box-shadow: var(--shadow-1);
  transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease, filter .2s ease;
  overflow: hidden;
}
.card::after{
  content: ""; position: absolute; inset: 0; border-radius: inherit;
  box-shadow: 0 0 0 1px var(--ring) inset; pointer-events: none;
  transition: box-shadow .2s ease;
}
.card:hover{
  transform: translateY(-4px);
  box-shadow: 0 14px 30px rgba(0,0,0,.16),
              0 0 0 2px color-mix(in oklab, var(--accent) 18%, transparent);
  border-color: color-mix(in oklab, var(--accent) 28%, var(--ring));
  filter: saturate(1.04);
}
.card:hover::after{ box-shadow: 0 0 0 2px color-mix(in oklab, var(--accent) 28%, transparent) inset; }
.card__img{
  width: 100%; aspect-ratio: 16 / 9; object-fit: cover;
  border-radius: 14px; margin-bottom: 10px;
  transform: scale(1); transition: transform .3s ease;
}
.card:hover .card__img{ transform: scale(1.04); }
.card h2, .card__title{ margin: 0 0 .45rem; font-size: 1.12rem; letter-spacing: .2px; }
.card--tint-peach{
  background: linear-gradient(180deg,
              color-mix(in oklab, var(--tint-peach) 20%, transparent),
              var(--bg-1));
}
.card--tint-blue{
  background: linear-gradient(180deg,
              color-mix(in oklab, var(--tint-blue) 20%, transparent),
              var(--bg-1));
}
.card--tint-rose{
  background: linear-gradient(180deg,
              color-mix(in oklab, var(--tint-rose) 20%, transparent),
              var(--bg-1));
}
.full-width { grid-column: 1 / -1; }
.meta { color: var(--muted); margin: 0 0 .4rem; font-size: .95rem; }

.pills{ display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px; }
.pill{
  display: inline-flex; align-items: center;
  padding: .32rem .6rem; border-radius: 999px; font-size: .85rem;
  background: var(--bg-2); border: 1px solid var(--ring); color: var(--text);
}

.tablist{
  display: flex; gap: 10px; flex-wrap: wrap; align-items: center;
  margin-top: 14px; padding: 6px 2px;
  overflow-x: auto; scrollbar-width: thin;
}
.tab{
  display: inline-flex; align-items: center; justify-content: center;
  padding: .55rem .9rem; border-radius: 12px;
  border: 1px solid var(--ring); background: var(--bg-2);
  color: var(--text); white-space: nowrap; cursor: pointer; user-select: none;
  transition: background .15s, color .15s, border-color .15s;
}
.tab:hover{ border-color: color-mix(in oklab, var(--accent) 35%, var(--ring)); }
.tab[aria-selected="true"]{
  background: var(--accent); color: var(--accent-contrast);
  border-color: transparent; box-shadow: 0 6px 16px rgba(0,0,0,.08);
}
.tab:focus-visible{ outline: 2px solid var(--accent); outline-offset: 2px; }
.tab--link { text-decoration: none; }

.xp{ display: grid; gap: 18px; }
.xp-item{ position: relative; padding-left: 22px; }
.xp-item::before{
  content: ""; position: absolute; left: 6px; top: 6px;
  width: 10px; height: 10px; border-radius: 50%;
  background: var(--accent);
  box-shadow: 0 0 0 4px color-mix(in oklab, var(--accent) 20%, transparent);
}
.xp-title{ margin: 0; font-weight: 700; }
.xp-sub{ margin: .5rem 0 0; color: var(--muted); }
.xp h4{ margin: .75rem 0 .35rem; color: var(--accent); font-size: 1rem; }
.xp ul{ margin: 0; padding-left: 18px; color: var(--text); }
.xp li{ margin: .25rem 0; }

/* ===== 9) FOOTER ===== */
.site-footer{
  border-top: 1px solid var(--ring);
  margin-top: 28px; padding: 18px 0;
  color: var(--muted);
}
/* Footer link row (icons + text links) */
.footer-links{ display:flex; gap:1.25rem; flex-wrap:wrap; align-items:center; }
.footer-links a{
  display:inline-flex; align-items:center; gap:6px;
  color: var(--muted);
  text-decoration: none;
  transition: color .15s ease;
}
.footer-links a:hover{ color: var(--text); text-decoration: none; }
.footer-links a:focus-visible{ outline: 2px solid var(--accent); outline-offset: 3px; border-radius: 8px; }
.footer-links a svg{ width:20px; height:20px; opacity:.9; transition: transform .15s ease, opacity .15s ease; }
.footer-links a:hover svg{ transform: translateY(-1px); opacity:1; }

/* ===== 10) A11Y & MOTION ===== */
:focus-visible{
  outline: none;
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--accent) 45%, transparent);
  border-radius: 10px;
}
@media (prefers-reduced-motion: reduce){
  *{ transition: none !important; animation: none !important; }
  .reveal, .hero .hero-animate{ opacity: 1 !important; transform: none !important; }
}

/* ===== 11) BACK TO TOP ===== */
#backToTop{
  position: fixed; bottom: 24px; right: 24px; z-index: 1000;
  padding: 10px 14px; font-size: 1.1rem; font-weight: bold;
  border: none; border-radius: 50%;
  background: var(--accent, #4b72ff); color: #fff; cursor: pointer;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  opacity: 0; visibility: hidden;
  transition: opacity .3s ease, transform .3s ease;
}
#backToTop:hover{
  transform: translateY(-3px);
  background: color-mix(in oklab, var(--accent) 80%, black);
}
#backToTop.show{ opacity: 1; visibility: visible; }

/* ===== 12) MOBILE HEADER / NAV ===== */
@media (max-width: 720px) {
  .site-header .container{
    display: grid !important;
    grid-template-columns: 1fr auto;
    grid-template-areas:
      "brand  toggle"
      "nav    nav"
      "actions actions";
    gap: 10px; align-items: center;
  }
  .brand { grid-area: brand; }
  .nav-toggle{
    grid-area: toggle;
    display: inline-flex; align-items: center; justify-content: center;
    width: 40px; height: 40px;
    border-radius: 12px; border: 1px solid var(--ring);
    background: var(--bg-2);
  }
  .site-nav{
    grid-area: nav;
    display: none;
    flex-direction: column; gap: 8px;
    padding: 8px 0; border-top: 1px solid var(--ring);
  }
  .site-nav.open{ display: flex; }
  .site-nav a{ padding: 10px 2px; }
  .header-actions{ grid-area: actions; justify-self: start; }
}
@media (min-width: 721px){ .nav-toggle{ display: none; } }